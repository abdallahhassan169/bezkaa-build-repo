import{j as e,r as a,ai as O,az as C,ay as g,ad as W,y as G,aB as r,D as v,F as w,h as J,aC as P}from"./index-BFN8OuE8.js";import{F as Y}from"./index-c-uxtEIM.js";import{l as $,C as q,S as K,A as Q}from"./index-BjCjNaUm.js";import{M as U}from"./index-BWBUPLjW.js";import{C as M,a as f}from"./CRow-CJuqxcNC.js";import{C as V,a as X}from"./CCardBody-wuuvjtKP.js";import{C as Z}from"./CCardHeader-CJsmVxQF.js";import{C as ee}from"./CFormTextarea-9SYs4Cz2.js";import{C as R}from"./CFormSelect-CCEVQD5-.js";import{c as te}from"./Grow-CZY9NATc.js";const se=te(e.jsx("path",{d:"m4 18 8.5-6L4 6zm9-12v12l8.5-6z"}),"FastForward"),ae={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"90vh",bgcolor:"background.paper",borderRadius:"12px",boxShadow:24,p:4,overflowY:"auto",display:"flex",textAlign:"center",flexDirection:"column",direction:"rtl",color:"black"};function ne({text:o,open:S,handleClose:l}){const[i,h]=a.useState("text"),[y,c]=a.useState(!1);console.log(o,"text");const u=d=>{h(d),console.log(`${d} action triggered`)},m=()=>{c(!0)},p=()=>{c(!1)};return e.jsxs("div",{children:[e.jsx(O,{open:S,onClose:l,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{backdropFilter:"blur(8px)"},children:e.jsxs(C,{sx:ae,children:[e.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:2},children:e.jsxs(C,{children:[e.jsx(g,{variant:i==="text"?"contained":"outlined",color:"primary",onClick:()=>u("text"),sx:{marginRight:1},children:"النص"}),e.jsx(g,{variant:i==="Markdown"?"contained":"outlined",color:"primary",onClick:()=>u("Markdown"),sx:{marginRight:1},children:"Markdown"}),e.jsx($.CopyToClipboard,{text:i==="Markdown"?JSON.stringify(o):o,children:e.jsx(g,{variant:"contained",color:"secondary",sx:{marginRight:1},onClick:m,children:e.jsx(q,{})})})]})}),e.jsx(W,{id:"modal-description",variant:"body1",sx:{flexGrow:1,textAlign:"justify",whiteSpace:"pre-wrap"},children:e.jsx(U,{children:o})}),e.jsx(C,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:e.jsx(g,{variant:"outlined",color:"secondary",onClick:l,children:"إغلاق"})})]})}),e.jsx(K,{open:y,autoHideDuration:2e3,onClose:p,children:e.jsx(Q,{onClose:p,severity:"success",sx:{width:"100%"},children:"تم النسخ بنجاح!"})})]})}const pe=()=>{const[o,S]=a.useState(""),[l,i]=a.useState(""),[h,y]=a.useState(""),[c,u]=a.useState(""),[m,p]=a.useState(""),[d,A]=a.useState(""),[x,b]=a.useState([{description:"",url:""}]),[L,k]=a.useState(!1),[F,N]=a.useState(!1),[T,B]=a.useState(""),[z,D]=a.useState(),I=(t,n,s)=>{const j=[...x];j[t][n]=s,b(j)},E=()=>{b([...x,{description:"",url:""}])},_=t=>{const n=x.filter((s,j)=>j!==t);b(n)},H=async()=>{var n;N(!0);const t={text:o,title:l,description:h,style:c,wordCount:m,language:d,images:x,conv_id:z};try{const s=await P("/content/write-article",t);B(s.data.article),k(!0),D((n=s==null?void 0:s.data)==null?void 0:n.current_conv),console.log(s.data)}catch(s){console.error("Error:",s)}finally{N(!1)}};return e.jsxs(M,{style:{direction:"rtl"},children:[e.jsx(f,{xs:12,children:e.jsxs(V,{className:"mb-4",children:[e.jsx(Z,{children:e.jsx("strong",{children:"أداة كتابة المحتوي"})}),e.jsx(X,{children:e.jsxs(G,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(r,{htmlFor:"title-input",children:"عنوان المقال:"}),e.jsx(v,{id:"title-input",value:l,onChange:t=>i(t.target.value),placeholder:"أدخل عنوان المقال هنا..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(r,{htmlFor:"description-input",children:"وصف المقال:"}),e.jsx(ee,{id:"description-input",rows:4,value:h,onChange:t=>y(t.target.value),placeholder:"أدخل وصف المقال هنا..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(r,{children:"الأسلوب:"}),e.jsxs(R,{value:c,onChange:t=>u(t.target.value),children:[e.jsx("option",{value:"",children:"اختر الأسلوب"}),e.jsx("option",{value:"formal",children:"رسمي"}),e.jsx("option",{value:"informal",children:"غير رسمي"}),e.jsx("option",{value:"persuasive",children:"إقناعي"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(r,{htmlFor:"word-count-input",children:"عدد الكلمات:"}),e.jsx(v,{id:"word-count-input",type:"number",value:m,onChange:t=>p(t.target.value),placeholder:"أدخل عدد الكلمات..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(r,{children:"اللغة:"}),e.jsxs(R,{value:d,onChange:t=>A(t.target.value),children:[e.jsx("option",{value:"",children:"اختر اللغة"}),e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"en",children:"الإنجليزية"}),e.jsx("option",{value:"fr",children:"الفرنسية"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(r,{children:"الصور:"}),x.map((t,n)=>e.jsxs(M,{className:"mb-2",children:[e.jsx(f,{xs:12,md:5,className:"mb-3",children:e.jsx(v,{type:"text",placeholder:"وصف الصورة",value:t.description,onChange:s=>I(n,"description",s.target.value)})}),e.jsx(f,{xs:12,md:5,className:"mb-3",children:e.jsx(v,{type:"text",placeholder:"رابط الصورة",value:t.url,onChange:s=>I(n,"url",s.target.value)})}),e.jsx(f,{xs:12,md:2,className:"d-flex align-items-center",children:e.jsx(w,{color:"danger",onClick:()=>_(n),children:e.jsx(Y,{})})})]},n)),e.jsx(w,{color:"primary",onClick:E,children:"+ اضافة صورة"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:e.jsxs(w,{color:"success",onClick:H,style:{display:"flex",justifyContent:"center",width:"15%",color:"white"},disabled:F,children:[F?e.jsx(J,{size:"sm"}):"إرسال",e.jsx(se,{})]})})]})})]})}),e.jsx(ne,{text:T,handleClose:()=>k(!1),open:L})]})};export{pe as default};
