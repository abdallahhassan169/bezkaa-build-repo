import{r as a,j as e,ai as M,az as p,ay as u,ad as R,y as A,aB as m,D as g,F,h as B,p as N,aC as T}from"./index-BFN8OuE8.js";import{l as E,C as I,S as z,A as D}from"./index-BjCjNaUm.js";import{M as L}from"./index-BWBUPLjW.js";import{s as H,c as O}from"./config-CIBk6lT9.js";import{C as v,a as j}from"./CRow-CJuqxcNC.js";import{C as P,a as U}from"./CCardBody-wuuvjtKP.js";import{C as Y}from"./CCardHeader-CJsmVxQF.js";import{C as _}from"./CFormSelect-CCEVQD5-.js";import"./Grow-CZY9NATc.js";const G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"90vh",bgcolor:"background.paper",borderRadius:"12px",boxShadow:24,p:4,overflowY:"auto",display:"flex",textAlign:"center",flexDirection:"column",direction:"rtl",color:"black"};function J({text:t,open:C,handleClose:o}){const[n,l]=a.useState("text"),[y,r]=a.useState(!1);console.log(t,"text");const c=x=>{l(x),console.log(`${x} action triggered`)},d=()=>{r(!0)},i=()=>{r(!1)};return e.jsxs("div",{children:[e.jsx(M,{open:C,onClose:o,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{backdropFilter:"blur(8px)"},children:e.jsxs(p,{sx:G,children:[e.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:2},children:e.jsxs(p,{children:[e.jsx(u,{variant:n==="text"?"contained":"outlined",color:"primary",onClick:()=>c("text"),sx:{marginRight:1},children:"النص"}),e.jsx(u,{variant:n==="Markdown"?"contained":"outlined",color:"primary",onClick:()=>c("Markdown"),sx:{marginRight:1},children:"Markdown"}),e.jsx(E.CopyToClipboard,{text:n==="Markdown"?JSON.stringify(t):t,children:e.jsx(u,{variant:"contained",color:"secondary",sx:{marginRight:1},onClick:d,children:e.jsx(I,{})})})]})}),e.jsx(R,{id:"modal-description",variant:"body1",sx:{flexGrow:1,textAlign:"justify",whiteSpace:"pre-wrap"},children:e.jsx(L,{children:t})}),e.jsx(p,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:e.jsx(u,{variant:"outlined",color:"secondary",onClick:o,children:"إغلاق"})})]})}),e.jsx(z,{open:y,autoHideDuration:2e3,onClose:i,children:e.jsx(D,{onClose:i,severity:"success",sx:{width:"100%"},children:"تم النسخ بنجاح!"})})]})}const se=()=>{const[t,C]=a.useState(""),[o,n]=a.useState(""),[l,y]=a.useState("summary"),[r,c]=a.useState("ar"),[d,i]=a.useState(!1),[x,S]=a.useState(""),[k,f]=a.useState(!1),w=async()=>{var s,b;if(!t||!l||!r){alert("يرجى إدخال جميع البيانات المطلوبة");return}i(!0);try{const h=await T("/video/get_trans",{videoUrl:t,percent:o,responseType:l,language:r});h.data.status===200&&(S(((b=(s=h.data)==null?void 0:s.body)==null?void 0:b.processedText)??""),f(!0))}catch(h){console.error("Error:",h)}finally{i(!1)}};return e.jsxs(v,{children:[e.jsx(j,{xs:12,children:e.jsxs(P,{className:"mb-4",children:[e.jsx(Y,{children:e.jsx("strong",{children:"تحليل نصوص فيديوهات اليوتيوب"})}),e.jsx(U,{children:e.jsxs(A,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(m,{children:"رابط الفيديو"}),e.jsx(g,{type:"text",placeholder:"أدخل رابط الفيديو",value:t,onChange:s=>C(s.target.value)})]}),e.jsxs(v,{className:"mb-3",children:[e.jsxs(j,{md:4,children:[e.jsx(m,{children:"النسبة من النص الأصلي"}),e.jsx(g,{type:"number",placeholder:"مثال: 75%",min:0,max:100,value:o,onChange:s=>n(s.target.value)})]}),e.jsxs(j,{md:4,children:[e.jsx(m,{children:"نوع الاستجابة"}),e.jsxs(_,{value:l,onChange:s=>y(s.target.value),children:[e.jsx("option",{value:"summary",children:"تلخيص"}),e.jsx("option",{value:"paraphrase",children:"إعادة صياغة"}),e.jsx("option",{value:"analysis",children:"تحليل المحتوى"})]})]}),e.jsxs(j,{md:4,children:[e.jsx(m,{children:"اختر اللغة"}),e.jsx(g,{type:"text",value:r,onChange:s=>c(s.target.value)})]})]}),e.jsxs(F,{color:"primary",onClick:w,disabled:d,children:[d?e.jsx(B,{size:"sm"}):"تحليل الفيديو",H["youtube-trans"],e.jsx(N,{icon:O,className:"me-2",style:{color:"gold",fontSize:"50px"}})]})]})})]})}),e.jsx(J,{text:x,handleClose:()=>f(!1),open:k})]})};export{se as default};
