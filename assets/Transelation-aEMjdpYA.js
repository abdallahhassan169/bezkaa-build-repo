import{r as a,j as e,ai as M,az as m,ay as p,ad as R,y as F,aB as f,D as A,F as y,h as T,p as I,aC as N}from"./index-BFN8OuE8.js";import{l as B,C as L,S as D,A as z}from"./index-BjCjNaUm.js";import{M as E}from"./index-BWBUPLjW.js";import{s as _,c as q}from"./config-CIBk6lT9.js";import{C as H,a as O}from"./CRow-CJuqxcNC.js";import{C as G,a as J}from"./CCardBody-wuuvjtKP.js";import{C as P}from"./CCardHeader-CJsmVxQF.js";import{C as Y}from"./CFormTextarea-9SYs4Cz2.js";import"./Grow-CZY9NATc.js";const $={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"90vh",bgcolor:"background.paper",borderRadius:"12px",boxShadow:24,p:4,overflowY:"auto",display:"flex",textAlign:"center",flexDirection:"column",direction:"rtl",color:"black"};function K({text:s,open:c,handleClose:n}){const[r,d]=a.useState("text"),[x,h]=a.useState(!1);console.log(s,"text");const o=u=>{d(u),console.log(`${u} action triggered`)},g=()=>{h(!0)},l=()=>{h(!1)};return e.jsxs("div",{children:[e.jsx(M,{open:c,onClose:n,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{backdropFilter:"blur(8px)"},children:e.jsxs(m,{sx:$,children:[e.jsx(m,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:2},children:e.jsxs(m,{children:[e.jsx(p,{variant:r==="text"?"contained":"outlined",color:"primary",onClick:()=>o("text"),sx:{marginRight:1},children:"النص"}),e.jsx(p,{variant:r==="Markdown"?"contained":"outlined",color:"primary",onClick:()=>o("Markdown"),sx:{marginRight:1},children:"Markdown"}),e.jsx(B.CopyToClipboard,{text:r==="Markdown"?JSON.stringify(s):s,children:e.jsx(p,{variant:"contained",color:"secondary",sx:{marginRight:1},onClick:g,children:e.jsx(L,{})})})]})}),e.jsx(R,{id:"modal-description",variant:"body1",sx:{flexGrow:1,textAlign:"justify",whiteSpace:"pre-wrap"},children:e.jsx(E,{children:s})}),e.jsx(m,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:e.jsx(p,{variant:"outlined",color:"secondary",onClick:n,children:"إغلاق"})})]})}),e.jsx(D,{open:x,autoHideDuration:2e3,onClose:l,children:e.jsx(z,{onClose:l,severity:"success",sx:{width:"100%"},children:"تم النسخ بنجاح!"})})]})}const se=()=>{const[s,c]=a.useState(""),[n,r]=a.useState(""),[d,x]=a.useState(!1),[h,o]=a.useState(""),[g,l]=a.useState(!1),[u,b]=a.useState(),v=i=>{c(i.target.value)},S=i=>{r(i.target.value)},k=async i=>{var C,j;i.preventDefault(),x(!0);try{const t=await N("/content/translate",{text:s,targetLanguage:n,conv_id:u});o((C=t==null?void 0:t.data)==null?void 0:C.body),b((j=t==null?void 0:t.data)==null?void 0:j.current_conv),t!=null&&t.data&&l(!0)}catch(t){console.error("Error:",t)}finally{x(!1)}},w=()=>{c(""),r(""),o("")};return e.jsxs(H,{style:{direction:"rtl"},children:[e.jsx(O,{xs:12,children:e.jsxs(G,{className:"mb-4",children:[e.jsx(P,{children:e.jsx("strong",{children:"أداة الترجمة"})}),e.jsx(J,{children:e.jsxs(F,{onSubmit:k,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(f,{htmlFor:"translate-textarea",children:"النص المراد ترجمته:"}),e.jsx(Y,{id:"translate-textarea",rows:5,placeholder:"اكتب النص هنا...",value:s,onChange:v,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(f,{htmlFor:"target-language",children:"اختر اللغة المستهدفة:"}),e.jsx(A,{type:"text",id:"target-language",placeholder:"أدخل اللغة المستهدفة (مثل: en, fr, ar)",value:n,onChange:S,required:!0})]}),e.jsxs("div",{className:"mb-3 d-flex gap-2",children:[e.jsxs(y,{color:"primary",type:"submit",disabled:d,children:[d?e.jsx(T,{size:"sm"}):"إرسال",_["youtube-trans"]," ",e.jsx(I,{icon:q,className:"me-2",style:{color:"gold",fontSize:"50px"}})]}),e.jsx(y,{color:"secondary",onClick:w,children:"إعادة تعيين"})]})]})})]})}),e.jsx("div",{children:e.jsx(K,{text:h,handleClose:()=>l(!1),open:g})})]})};export{se as default};
